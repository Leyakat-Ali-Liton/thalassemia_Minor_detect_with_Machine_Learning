<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JIBON - Hematological Disorder Screening</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
    <style>
        :root { 
            --blood-red: #8b0000; 
            --deep-maroon: #4a0404; 
            --soft-cream: #fff5f5; 
        }
        body { 
            background-color: var(--soft-cream); 
            font-family: 'Segoe UI', sans-serif; 
            color: #333; 
        }
        .navbar-brand {
            margin-right: 0;
            width: 100%;
            text-align: center;
            letter-spacing: 1px;
            font-size: 1.4rem;
        }
        .hero-section { 
            background: linear-gradient(135deg, var(--deep-maroon) 0%, var(--blood-red) 100%); 
            color: white; 
            padding: 80px 0; 
            border-radius: 0 0 50px 50px; 
            box-shadow: 0 10px 30px rgba(139, 0, 0, 0.3); 
        }
        .stat-card { 
            background: white; 
            padding: 25px; 
            border-radius: 20px; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.08); 
            height: 100%; 
            border-top: 5px solid var(--blood-red); 
            transition: transform 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
        }
        .profile-img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--soft-cream);
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        .section-title-custom { 
            color: var(--blood-red); 
            font-weight: bold; 
            margin-bottom: 20px; 
            border-left: 5px solid var(--blood-red); 
            padding-left: 15px; 
        }
        .btn-custom { 
            font-weight: bold; 
            padding: 12px 30px; 
            border-radius: 30px; 
            transition: 0.3s; 
            margin: 5px; 
        }
        .btn-diagnosis { 
            background-color: white; 
            color: var(--blood-red); 
            border: 2px solid white; 
        }
        .btn-admin { 
            background-color: transparent; 
            color: white; 
            border: 2px solid white; 
        }
        .btn-custom:hover { 
            transform: scale(1.05); 
            opacity: 0.9; 
            color: gold; 
        }
        footer { 
            background: var(--deep-maroon); 
            color: white; 
            padding: 30px 0; 
            margin-top: 50px; 
        }
        .sdg-badge {
            background-color: #4C9F38;
            color: white;
            padding: 5px 12px;
            border-radius: 5px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-dark shadow-sm" style="background-color: var(--deep-maroon);">
    <div class="container-fluid">
        <a class="navbar-brand fw-bold" href="#">
            JIBON: Save Hematological Disorder
        </a>
    </div>
</nav>

<div class="hero-section text-center">
    <div class="container">
        <h1 class="display-4 fw-bold">Thalassemia & Iron AI Screening</h1>
        <p class="lead mb-4">‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶Ø‡¶º‡ßá ‡¶ï‡ßÉ‡¶§‡ßç‡¶∞‡¶ø‡¶Æ ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶§‡ßç‡¶§‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞</p>
        <div class="d-flex justify-content-center flex-wrap">
            <a class="btn btn-custom btn-diagnosis shadow" href="/test">START DIAGNOSIS</a>
            <a class="btn btn-custom btn-admin shadow" href="/admin">ADMIN PANEL</a>
        </div>
    </div>
</div>

<div class="container mt-5">
    <div class="row g-4 mb-5">
        <div class="col-md-6">
            <div class="stat-card">
                <h5 class="text-center mb-4 fw-bold" style="color: var(--blood-red);">Thalassemia Screening Status</h5>
                <div style="height: 350px;"><canvas id="thalDonut"></canvas></div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="stat-card">
                <h5 class="text-center mb-4 fw-bold" style="color: var(--blood-red);">Iron Deficiency Status</h5>
                <div style="height: 350px;"><canvas id="ironDonut"></canvas></div>
            </div>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <div class="col-md-6">
            <div class="stat-card">
                <h4 class="section-title-custom">About Project</h4>
                <p>‡¶•‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∏‡ßá‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶Æ‡¶æ‡¶∞‡¶æ‡¶§‡ßç‡¶Æ‡¶ï ‡¶¨‡¶Ç‡¶∂‡¶ó‡¶§ ‡¶∞‡¶ï‡ßç‡¶§‡¶æ‡¶≤‡ßç‡¶™‡¶§‡¶æ‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶Æ‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶¨‡¶æ ‡¶â‡¶≠‡¶Ø‡¶º‡¶á ‡¶•‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∏‡ßá‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶¨‡¶æ‡¶π‡¶ï (Carrier/Minor) ‡¶π‡¶®, ‡¶§‡¶¨‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶®‡ßá‡¶∞ <b>'‡¶•‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∏‡ßá‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡ßá‡¶ú‡¶∞'</b> ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ù‡ßÅ‡¶Å‡¶ï‡¶ø ‡¶•‡¶æ‡¶ï‡ßá ‡ß®‡ß´%‡•§</p>
                <p>‡¶è‡¶ï‡¶ú‡¶® '‡¶Æ‡ßá‡¶ú‡¶∞' ‡¶∞‡ßã‡¶ó‡ßÄ‡¶ï‡ßá ‡¶∏‡¶æ‡¶∞‡¶æ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø ‡¶Æ‡¶æ‡¶∏‡ßá ‡ßß-‡ß® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ó ‡¶∞‡¶ï‡ßç‡¶§ ‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶Ø‡¶º ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶Ø‡¶º‡¶∞‡¶® ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶¨‡ßç‡¶Ø‡¶Ø‡¶º‡¶¨‡¶π‡ßÅ‡¶≤ ‡¶ö‡¶ø‡¶ï‡¶ø‡ßé‡¶∏‡¶æ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶π‡¶Ø‡¶º, ‡¶Ø‡¶æ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶™‡¶∞‡¶ø‡¶¨‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¶‡ßÅ‡¶É‡¶∏‡¶æ‡¶ß‡ßç‡¶Ø‡•§</p>
                <div class="alert alert-danger border-0" style="background-color: #fff0f0;">
                    <strong>‡¶ï‡ßá‡¶® ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü?</strong> ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ AI ‡¶Æ‡¶°‡ßá‡¶≤ ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ì ‡¶∏‡¶æ‡¶∂‡ßç‡¶∞‡¶Ø‡¶º‡ßÄ CBC ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡ßá ‡¶¨‡¶æ‡¶π‡¶ï ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶¨‡¶ø‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶æ ‡¶∏‡¶®‡ßç‡¶§‡¶æ‡¶® ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶¨‡¶æ‡¶π‡¶ï ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§‡¶ï‡¶∞‡¶£‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ü‡¶ó‡¶æ‡¶Æ‡ßÄ ‡¶™‡ßç‡¶∞‡¶ú‡¶®‡ßç‡¶Æ‡¶ï‡ßá '‡¶•‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∏‡ßá‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡ßá‡¶ú‡¶∞' ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ü‡¶ú‡ßÄ‡¶¨‡¶® ‡¶ï‡¶∑‡ßç‡¶ü ‡¶ì ‡¶Ü‡¶∞‡ßç‡¶•‡¶ø‡¶ï ‡¶ß‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶ï‡ßç‡¶∑‡¶Æ‡•§
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="stat-card">
                <h4 class="section-title-custom">Our Goals & SDG</h4>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item bg-transparent">üîç <b>Early Detection:</b> ‡¶¨‡¶ø‡¶¨‡¶æ‡¶π‡ßá‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨‡ßá ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶ø‡¶Ç‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶¨‡¶æ‡¶π‡¶ï ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßá ‡¶•‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∏‡ßá‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡¶Æ‡¶æ‡¶ú ‡¶ó‡¶†‡¶® ‡¶ï‡¶∞‡¶æ‡•§</li>
                    <li class="list-group-item bg-transparent">üìâ <b>Risk Reduction:</b> ‡¶Æ‡¶æ-‡¶¨‡¶æ‡¶¨‡¶æ ‡¶â‡¶≠‡¶Ø‡¶º‡¶á ‡¶¨‡¶æ‡¶π‡¶ï ‡¶π‡¶≤‡ßá ‡¶ú‡ßá‡¶®‡ßá‡¶ü‡¶ø‡¶ï ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶∏‡ßá‡¶≤‡¶ø‡¶Ç‡¶Ø‡¶º‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá '‡¶Æ‡ßá‡¶ú‡¶∞' ‡¶∂‡¶ø‡¶∂‡ßÅ ‡¶ú‡¶®‡ßç‡¶Æ‡ßá‡¶∞ ‡¶π‡¶æ‡¶∞ ‡¶∂‡ßÇ‡¶®‡ßç‡¶Ø‡ßá ‡¶®‡¶æ‡¶Æ‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ü‡¶®‡¶æ‡•§</li>
                    <li class="list-group-item bg-transparent">üí∞ <b>Cost Effective:</b> ‡ß©‡ß¶‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡ßá‡¶∞ ‡¶¨‡¶¶‡¶≤‡ßá ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡ß™‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶ü‡ßá‡¶∏‡ßç‡¶ü‡ßá ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶∂‡¶®‡¶æ‡¶ï‡ßç‡¶§‡¶ï‡¶∞‡¶£ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ‡•§</li>
                </ul>
                <hr>
                <h6><b>SDG Alignment:</b></h6>
                <div class="sdg-badge">SDG 3: Good Health and Well-being</div>
                <p class="small mt-2">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü <b>SDG ‡¶ó‡ßã‡¶≤ ‡ß©.‡ß™</b> (‡¶Ö‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶Æ‡¶ï ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ß‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß) ‡¶è‡¶¨‡¶Ç <b>‡ß©.‡¶°‡¶ø</b> (‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶ù‡ßÅ‡¶Å‡¶ï‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶™‡¶®‡¶æ) ‡¶Ö‡¶∞‡ßç‡¶ú‡¶®‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶≠‡ßÇ‡¶Æ‡¶ø‡¶ï‡¶æ ‡¶∞‡¶æ‡¶ñ‡¶õ‡ßá‡•§</p>
            </div>
        </div>
    </div>

    <div class="row mb-5">
        <div class="col-12">
            <h4 class="text-center fw-bold mb-4" style="color: var(--blood-red);">Contact Our Team</h4>
            <div class="row g-4 justify-content-center text-center">
                <div class="col-md-4">
                    <div class="stat-card p-4 border-0 shadow-sm h-100">
                        <img src="leyakat.png" alt="Leyakat Ali" class="profile-img">
                        <h6 class="fw-bold mb-1" style="color: var(--blood-red);">Leyakat Ali</h6> 
                        <p class="text-muted small mb-2">Project Lead and Medical Analyst</p>
                        <div class="d-flex justify-content-center gap-3">
                            <a href="mailto:leyakataliliton@gmail.com" class="text-dark"><i class="fas fa-envelope"></i></a>
                            <a href="https://www.linkedin.com/in/leyakat-ali-patwary-8807bb304/" target="_blank" style="color: #0077b5;"><i class="fab fa-linkedin fa-lg"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card p-4 border-0 shadow-sm h-100">
                        <img src="mily.png" alt="Farzana Akter Mily" class="profile-img">
                        <h6 class="fw-bold mb-1" style="color: var(--blood-red);">Farzana Akter Mily</h6>
                        <p class="text-muted small mb-2">Machine Learning and Model Expert</p>
                        <div class="d-flex justify-content-center gap-3">
                            <a href="mailto:farzanamily272@gmail.com" class="text-dark"><i class="fas fa-envelope"></i></a>
                            <a href="https://www.linkedin.com/in/farzana-akter-mily-7b8799255/" target="_blank" style="color: #0077b5;"><i class="fab fa-linkedin fa-lg"></i></a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card p-4 border-0 shadow-sm h-100">
                        <img src="shafin.png" alt="Shafin Chowdhury" class="profile-img">
                        <h6 class="fw-bold mb-1" style="color: var(--blood-red);">Shafin Chowdhury</h6>
                        <p class="text-muted small mb-2">Project Interface Developer</p>
                        <div class="d-flex justify-content-center gap-3">
                            <a href="mailto:shafinchowdhury2001@gmail.com" class="text-dark"><i class="fas fa-envelope"></i></a>
                            <a href="https://www.linkedin.com/in/shafin-chowdhury-1873a021a/" target="_blank" style="color: #0077b5;"><i class="fab fa-linkedin fa-lg"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="container text-center">
        <p>&copy; 2025 Blood AI Screening Project. All Rights Reserved.</p>
    </div>
</footer>

<script>
    Chart.register(ChartDataLabels);

    async function initCharts() {
        try {
            const res = await fetch('/api/stats');
            const s = await res.json();
            
            const commonOptions = (total) => ({
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    datalabels: {
                        color: '#fff',
                        font: { weight: 'bold', size: 14 },
                        formatter: (value) => value > 0 ? value : ""
                    }
                },
                elements: {
                    center: { text: `Total: ${total}` }
                }
            });

            // Thalassemia Chart
            new Chart(document.getElementById('thalDonut'), {
                type: 'doughnut',
                data: {
                    labels: ['Normal', 'Likely', 'Positive'],
                    datasets: [{
                        data: [s.thalNormal, s.thalLikely, s.thalPositive],
                        backgroundColor: ['#2d6a4f', '#d97706', '#991b1b']
                    }]
                },
                options: commonOptions(s.thalNormal + s.thalLikely + s.thalPositive),
                plugins: [{
                    id: 'centerText',
                    beforeDraw: function(chart) {
                        var width = chart.width, height = chart.height, ctx = chart.ctx;
                        ctx.restore();
                        var fontSize = (height / 180).toFixed(2);
                        ctx.font = "bold " + fontSize + "em sans-serif";
                        ctx.textBaseline = "middle";
                        ctx.fillStyle = "#8b0000";
                        var text = `Total: ${chart.config.options.elements.center.text.split(': ')[1]}`,
                            textX = Math.round((width - ctx.measureText(text).width) / 2),
                            textY = height / 1.85;
                        ctx.fillText(text, textX, textY);
                        ctx.save();
                    }
                }]
            });

            // Iron Chart
            new Chart(document.getElementById('ironDonut'), {
                type: 'doughnut',
                data: {
                    labels: ['Healthy', 'Deficient'],
                    datasets: [{
                        data: [s.ironNormal, s.ironDeficient],
                        backgroundColor: ['#1e40af', '#991b1b']
                    }]
                },
                options: commonOptions(s.ironNormal + s.ironDeficient),
                plugins: [{
                    id: 'centerText',
                    beforeDraw: function(chart) {
                        var width = chart.width, height = chart.height, ctx = chart.ctx;
                        ctx.restore();
                        var fontSize = (height / 180).toFixed(2);
                        ctx.font = "bold " + fontSize + "em sans-serif";
                        ctx.textBaseline = "middle";
                        ctx.fillStyle = "#8b0000";
                        var text = `Total: ${chart.config.options.elements.center.text.split(': ')[1]}`,
                            textX = Math.round((width - ctx.measureText(text).width) / 2),
                            textY = height / 1.85;
                        ctx.fillText(text, textX, textY);
                        ctx.save();
                    }
                }]
            });
        } catch (e) { console.error(e); }
    }
    initCharts();
</script>
</body>
</html>